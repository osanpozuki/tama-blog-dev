---
title: "Vue.jsã®ãŠå‹‰å¼·ä¸­ã ã‚ˆ"
date: 2019-01-26T10:21:06+09:00
---

# ã¯ã˜ã‚ã«
æœ€è¿‘ã¯Vue.jsã‚’å‹‰å¼·ã—å§‹ã‚ã¾ã—ãŸã€‚

ã€Œãˆã£ã€åˆå¿ƒè€…ã¯HTMLã¨CSSã¨jQueryã‹ã‚‰ã‚„ã‚Œã‚ˆã€ã¿ãŸã„ãªå£°ã‚‚ã‚ã‚Šãã†ã§ã™ã‘ã©ã€ã€ŒjQueryã¯å»ƒã‚Œæ°—å‘³ã§Vue.jsã€Reactã€Angularã®3å¤§jsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®æ™‚ä»£ã§ã™ã‚ˆã€ã¿ãŸã„ãªè¨˜äº‹ãŒãŸãã•ã‚“ã‚ã£ã¦ã€ç§ã®jQueryã¸ã®æ€ã„ã¯æœ€æ—©å¡µåŒç„¶ã§ã™ã€‚ã•ã‚ˆãªã‚‰jQueryã€‚

ãã‚“ãª3å¤§ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä¸­ã§ç§ãŒVue.jsã‚’é¸ã‚“ã ç†ç”±ã¯å˜ç´”ã«Googleãƒˆãƒ¬ãƒ³ãƒ‰â†“

Google ãƒˆãƒ¬ãƒ³ãƒ‰

https://g.co/trends/XQcLZ

ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“é”ãŒä»Šå‹‰å¼·ã—ã¦ã‚‹åˆ†é‡ã€çµ¶å¯¾é¢ç™½ã„ã˜ã‚ƒãªã„ã§ã™ã‹ã€‚

# ç’°å¢ƒä½œã‚‹ã‚ˆ
GitHubã«ä¸Šã’ã¦è‰²ã‚“ãªäººã«è§¦ã£ã¦ã‚‚ã‚‰ã†ç·´ç¿’ã«ã€ã¤ã„ã§ãªã®ã§dockerãªã‚‹ã‚‚ã®ã‚’è¦‹ã‚ˆã†è¦‹ã¾ã­ã§è§¦ã‚Šã¾ã™ã€‚è¶…å‚è€ƒã«ãªã£ãŸè¨˜äº‹ã¯ã“ã¡ã‚‰ã€‚

æœ¬å½“ã«dockerã¯ä½•ã‚‚åˆ†ã‹ã‚‰ãªã„ã®ã§ã™ãŒdocker-composeã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã‚„ã‚Šæ–¹ãŒæ¥½ãã†ãªã®ã§Dockerfileã¨docker-compose.ymlã‚’æ›¸ãã¾ã™ã€‚çµæ§‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‘¨ã‚Šã®é•ã„ãŒã‚ã£ãŸã®ã§try&errorã§ä¿®æ­£ã‚‚å°‘ã—ã—ã¾ã—ãŸã€‚

æœ€åˆã«Dockerfileã€‚è‰²ã€…èª¿ã¹ã¦ã“ã‚“ãªæ„Ÿã˜ã«ã€‚

```
FROM node:10.15.0-alpine

WORKDIR /app

RUN apk update
RUN npm install -g @vue/cli
```

æ¬¡ã«docker-composer.ymlã€‚æ­£ç›´è‰¯ãåˆ†ã‹ã‚Šã¾ã›ã‚“ãƒ»ãƒ»ãƒ»

```
version: '3'
services:
  first-vue:
    container_name: first-vue
    build: .
    ports:
      - 8080:8080
    volumes:
      - .:/app
    tty: true
```

shellã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’é †ç•ªã«å®Ÿè¡Œã—ã¾ã™ã€‚

```
$ docker-compose build
$ docker-compose up -d
$ docker-compose exec first-vue sh
```

ãã—ãŸã‚‰containerå†…éƒ¨ã®shellã«å…¥ã‚Œã‚‹ã®ã§(æœ€é«˜ã«è‡ªåˆ†ã§ã‚‚ä½•è¨€ã£ã¦ã‚‹ã‹åˆ†ã‹ã‚‰ãªã„)ä»¥ä¸‹ã®ã‚ˆã†ã«é€²ã‚ã¾ã™ã€‚

```
$ vue create .
?  Your connection to the default npm registry seems to be slow.
   Use https://registry.npm.taobao.org for faster installation? Yes

Vue CLI v3.3.0
? Generate project in current directory? Yes

Vue CLI v3.3.0
? Please pick a preset: default (babel, eslint)
? Pick the package manager to use when installing dependencies: NPM
ãªã‚“ã‹è‰²ã€…å‹•ãã®ã§å°‘ã—å¾…ã£ã¦shellã§

 $ npm run serve

> app@0.1.0 serve /app
> vue-cli-service serve

 INFO  Starting development server...
 98% after emitting CopyPlugin

 DONE  Compiled successfully in 17139ms                                                                                                                                10:49:35 PM

  App running at:
  - Local:   http://localhost:8080/
```
  
ã¯ã„ï¼ç«‹ã¡ä¸ŠãŒã‚Šã¾ã—ãŸï¼ãƒ–ãƒ©ã‚¦ã‚¶ã§localhost:8080ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦è¦‹ã‚Œã¾ã—ãŸğŸŒŸ



# èª°ã§ã‚‚å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹
$ docker-compose upã§ä¸€ç™ºã§èª°ã§ã‚‚ã‚¢ãƒ—ãƒªãŒç«‹ã¡ä¸ŠãŒã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã„ã‚„dockerè€ƒãˆãŸäººå¤©æ‰ã™ãã§ã¯ï¼Ÿ

Dockerfileã§ä»–ã®äººã¨packageã®æƒ…å ±ã‚’åˆã‚ã›ã‚‹ãŸã‚ã«package.jsonã‚’COPYã—ã¦npm installã—ã¾ã™ã€‚

```
FROM node:10.15.0-alpine

WORKDIR /app

COPY package.json .
COPY package-lock.json .

RUN apk update
RUN npm install -g @vue/cli
RUN npm install
```

docker-compose.ymlã¯ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’è¨­å®šã—ã¦ã‚ã’ã¾ã™ã€‚

```
version: '3'
services:
  first-vue:
    container_name: first-vue
    build: .
    ports:
      - 8080:8080
    volumes:
      - .:/app
      - /app/node_modules
    command: npm run serve
    tty: true
```

ã“ã‚Œã§ã¿ã‚“ãªåŒã˜é–‹ç™ºç’°å¢ƒã§é–‹ç™ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼GitHubã«ã‚ã’ã¦ã‚‹ã®ã§cloneã—ã¦ã‚„ã£ã¦ã¿ã¦ãã ã•ã„ğŸŒŸ

https://github.com/osanpozuki/first-vue

ã¤ã„ã§ã«å…¬é–‹ã—ã¡ã‚ƒãŠã†
ä¸–ã®ä¸­ã«ã¯GitHubPagesãªã‚“ã¦ã„ã†ã‚ã¡ã‚ƒãã¡ã‚ƒç°¡å˜ã«ãƒªãƒªãƒ¼ã‚¹ãŒã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚ã„ã‚„GitHubç¥ğŸ‘¼

Deployment | Vue CLI 3
ğŸ› ï¸ Standard Tooling for Vue.js Development
cli.vuejs.org
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«shellscriptãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ã»ã¼ä¸¸ãƒ‘ã‚¯ãƒªã—ã¾ã™ã€‚docker-composeä¸Šã§äºˆã‚`npm run build`ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã‚„ã‚„ç…©é›‘ãªã®ã§ã“ã“ä¸Šæ‰‹ãã‚„ã‚ŠãŸã„ã€‚ã€‚

```
#!/usr/bin/env sh

# `npm run build` before run this script

set -e

cd dist

git init
git add -A
git commit -m 'deploy'

git push -f git@github.com.sub:osanpozuki/first-vue-deploy.git master:gh-pages

cd -
```

vue.config.jsã¯å…¬é–‹å…ˆã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä¸‰é …æ¼”ç®—å­ã®å¾Œã‚ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚ç§ã¯ãã“ã§ï¼‘æ™‚é–“ãã‚‰ã„è©°ã¾ã‚Šã¾ã—ãŸã€‚

```
module.exports = {
    publicPath: process.env.NODE_ENV === 'production'
        ? '/first-vue-deploy/'
        : '/',
}

```

ã¯ã„ï¼ã‚ã¨ã¯shellscriptèµ°ã‚‰ã›ã¦ã¡ã‚ƒã‚“ã¨å…¬é–‹ã§ãã¾ã—ãŸã€œ

https://osanpozuki.github.io/first-vue-deploy/

çµ‚ã‚ã‚Šã«
é–‹ç™ºç’°å¢ƒä½œã£ãŸã‚Šç°¡å˜ã«å…¬é–‹ã§ãã‚‹ä»•çµ„ã¿ã‚’è¨­å®šã—ãŸã‚Šã¨ã£ã£ã£ã£ã£ã£ã¦ã‚‚å‹‰å¼·ã«ãªã‚Šã¾ã—ãŸï¼CI/CDã‚‚ã‚„ã£ã¦ã¿ãŸã‹ã£ãŸã‚“ã§ã™ãŒã€ã„ã¾ã„ã¡ã‚„ã‚Šæ–¹ãŒåˆ†ã‹ã‚‰ãªã‹ã£ãŸã®ã§ä¸€æ—¦æ”¾ç½®ã«ãªã£ã¦ã‚‹ã®ãŒæ‚”ã—ã„ã§ã™ã€‚

ã¾ã å§‹ã¾ã‚Šã«ç«‹ã£ãŸã°ã£ã‹ã‚Šã§ã™ã‘ã©ã“ã‚Œã‹ã‚‰Vue.jsã®å‹‰å¼·é ‘å¼µã‚‹ãã€œğŸ’ª